extends ../layout-admin

block additional-script
  script
    (function (global) {
        global.showDeleteModal = function (id, title) {
            showModal({
                header: '削除',
                body: '『' + title + '』を削除しますか？',
                action: function (event) {
                    del('/admin/article/' + id);
                    $('#_modal').modal('hide');
                    location.reload();
                }
            });
        };
    })(window);

block content-head
  .span12
    p.article-title.pull-left タグ一覧

block content
  .article-list.span12
    table.table.table-striped.table-hover.table-bordered
      thead
        tr
          th id
          th 名前
          th 作成日時
          th 変更日時
          th 削除日時
          th #action
      for tag in tags
        tr
          td
            a(href="/admin/tag/#{tag.id}/edit")= tag.id
          td= tag.name
          td= tag.getCreateAt()
          td= tag.getUpdateAt()
          td= tag.getDeleteAt()
          td
              button.btn(onclick="showDeleteModal('#{tag._id}', '#{tag.name}')") 削除

  include ../../common/modal.jade
